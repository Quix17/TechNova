<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kontoverwaltung</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/static/edit_profile.css">
</head>
<body>

    <div class="container">
        <div class="header">
            <h1>Kontoverwaltung</h1>
            <p>Verwalte alle deine persönlichen Einstellungen und Sicherheitsoptionen hier.</p>
        </div>

        <!-- Tab Navigation -->
        <div class="tabs">
            <input type="radio" id="tab-info" name="tab" checked>
            <label for="tab-info" class="tab">Persönliche Infos</label>

            <input type="radio" id="tab-security" name="tab">
            <label for="tab-security" class="tab">Sicherheit</label>

            <input type="radio" id="tab-notifications" name="tab">
            <label for="tab-notifications" class="tab">Benachrichtigungen</label>

            <input type="radio" id="tab-privacy" name="tab">
            <label for="tab-privacy" class="tab">Datenschutz</label>

            <input type="radio" id="tab-account" name="tab">
            <label for="tab-account" class="tab">Konto löschen</label>
        </div>

        <!-- Tab Content -->
        <div class="tab-content">
            <!-- Persönliche Infos Tab -->
            <div class="tab-pane" id="info">
                <form method="POST" class="profile-form">
                    <div class="form-group">
                        <label for="email">Neue E-Mail-Adresse:</label>
                        <input type="email" id="email" name="email" value="{{ current_user.email }}" required>
                    </div>

                    <div class="form-group">
                        <label for="name">Vollständiger Name:</label>
                        <input type="text" id="name" name="name" value="{{ current_user.name }}" required>
                    </div>

                    <div class="form-actions">
                        <button type="submit" class="btn-submit">Speichern</button>
                    </div>
                </form>
            </div>

            <!-- Sicherheit Tab -->
            <div class="tab-pane" id="security">
                <h2>2FA (Zwei-Faktor-Authentifizierung)</h2>
                <p>Aktiviere die Zwei-Faktor-Authentifizierung für mehr Sicherheit deines Kontos.</p>
                <button class="btn-action" onclick="toggle2FA()">Aktivieren</button>

                <div class="separator"></div>

                <h2>Passwort ändern</h2>
                <form method="POST">
                    <div class="form-group">
                        <label for="new_password">Neues Passwort:</label>
                        <input type="password" id="new_password" name="new_password" required>
                    </div>

                    <div class="form-group">
                        <label for="confirm_password">Passwort bestätigen:</label>
                        <input type="password" id="confirm_password" name="confirm_password" required>
                    </div>

                    <div class="form-actions">
                        <button type="submit" class="btn-submit">Passwort ändern</button>
                    </div>
                </form>
            </div>

            <!-- Benachrichtigungen Tab -->
            <div class="tab-pane" id="notifications">
                <h2>Benachrichtigungen</h2>
                <p>Verwalte, welche Benachrichtigungen du erhalten möchtest.</p>
                <form method="POST">
                    <div class="checkbox-group">
                        <label>
                            <input type="checkbox" name="email_notifications" checked>
                            E-Mail Benachrichtigungen
                        </label>
                        <label>
                            <input type="checkbox" name="sms_notifications" checked>
                            SMS Benachrichtigungen
                        </label>
                        <label>
                            <input type="checkbox" name="push_notifications" checked>
                            Push Benachrichtigungen
                        </label>
                    </div>

                    <div class="form-actions">
                        <button type="submit" class="btn-submit">Speichern</button>
                    </div>
                </form>
            </div>

            <!-- Datenschutz Tab -->
            <div class="tab-pane" id="privacy">
                <h2>Datenschutz</h2>
                <p>Verwalte deine Datenschutzoptionen und entscheide, wie deine Daten verwendet werden.</p>

                <div class="form-group">
                    <label for="data_sharing">Daten teilen:</label>
                    <select id="data_sharing" name="data_sharing">
                        <option value="yes" selected>Ja, ich möchte Daten teilen</option>
                        <option value="no">Nein, ich möchte keine Daten teilen</option>
                    </select>
                </div>

                <div class="form-actions">
                    <button type="submit" class="btn-submit">Speichern</button>
                </div>

                <div class="separator"></div>

                <h2>Datenschutzbestimmungen</h2>
                <p>Wir empfehlen dir, unsere <a href="/datenschutz">Datenschutzbestimmungen</a> zu lesen.</p>
            </div>

            <!-- Konto löschen Tab -->
            <div class="tab-pane" id="account">
                <h2>Konto löschen</h2>
                <p>Wenn du dein Konto endgültig löschen möchtest, klicke auf den Button unten. Alle deine Daten gehen verloren!</p>
                <form method="POST" action="{{ url_for('delete_account') }}" onsubmit="return confirmDelete()">
                    <button type="submit" class="btn-delete">Konto löschen</button>
                </form>
            </div>
        </div>
    </div>

    <script src="static/js/k-menu-a.js"></script>

</body>
</html>